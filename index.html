<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>AG Mobile</title>
    <meta name="description" content="Version mobile d'Apprenti Géomètre">

    <link rel="icon" href="/images/favicon.ico">

    <!-- pwa data -->
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/manifest/icon-192.png">
    <meta name="theme-color" content="#3f51b5">
    <script type="module">
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                const sw = await navigator.serviceWorker.register('/service-worker.js')
                sw.onupdatefound = () => {
                    sw.installing.onstatechange = () => {
                        if (sw.waiting) {
                            sw.waiting.postMessage({ type: "SKIP_WAITING" })
                        }
                    }
                }
            });

            navigator.serviceWorker.oncontrollerchange = () => {
                if (confirm(`Mise à jour disponible.\nMettre à jour ?`))
                    location.reload()
            }
        }
    </script>

    <style>
        html,
        body,
        ag-tablette-app {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-y: hidden;
        }

        body {
            --menu-background-color: #F2F2F2;
            --button-selected-background-color: #0ff;
            --menu-shadow-color: #000;
        }
    </style>
</head>

<body>
    <ag-app>

    <script type="module" src="src/ag-app.js" crossorigin></script>

    <noscript>
        Veuillez activer javascript afin de profiter de cette application
    </noscript>
</body>

</html>