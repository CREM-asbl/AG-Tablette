<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"></head><body><dom-module id="main-canvas"><template><style>:host{display:block;}svg{width:100%;height:100%;background-color:white;}</style><svg id="svg" on-click="_handleClick" on-mousemove="_handleMove"></svg></template><script>var MainCanvas=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'addShape',value:function(a){this.$.svg.appendChild(a)}},{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),this.addEventListener('touchmove',this._handleTouch.bind(this),!1),this.addEventListener('touchend',this._handleEnd.bind(this),!1)}},{key:'_updateData',value:function(a){this.currentPosition=a.touches?{x:a.touches[0].clientX,y:a.touches[0].clientY}:{x:a.clientX,y:a.clientY},a.target&&(this.currentShape='svg'===a.target.id?null:a.target)}},{key:'_handleClick',value:function(a){this._updateData(a),window.currentAction&&window.currentAction.click(this.currentPosition,this)}},{key:'_handleMove',value:function(a){this._updateData(a),window.currentAction&&window.currentAction.mouseMove(this.currentPosition)}},{key:'_handleTouch',value:function(a){this._updateData(a),window.currentAction&&(window.currentAction.mouseMove(this.currentPosition),a.preventDefault())}},{key:'_handleEnd',value:function(){window.currentAction&&window.currentAction.end(this.currentPosition)}}],[{key:'is',get:function(){return'main-canvas'}},{key:'properties',get:function(){return{currentPosition:Object,currentShape:Object}}}]),b}(Polymer.Element);customElements.define(MainCanvas.is,MainCanvas);</script></dom-module></body></html>